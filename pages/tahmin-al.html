<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Tahmin Al | thetahmin.com</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/css/custom.css">
 
</head>

<body class="bg-[#0B0E1A] text-white overflow-x-hidden">
  <!-- Header -->
  <div id="header"></div>

 <br>

  <!-- Prediction Form -->
  <section class="py-20 px-4 sm:px-6 bg-[#0B0E1A]">
    <div class="max-w-4xl mx-auto">
      <div class="bg-gradient-to-br from-cyan-500/5 via-purple-500/5 to-pink-500/5 border border-cyan-500/20 rounded-3xl p-6 sm:p-10 md:p-12 backdrop-blur-xl shadow-2xl">
        <h2 class="text-3xl sm:text-4xl font-bold text-center mb-3 text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-purple-500">
          Tahmin Almak İçin Seçim Yapın
        </h2>
        <p class="text-center text-gray-400 mb-10">
          Lig ve maç seçerek AI destekli tahminlere ulaşın
        </p>

        <!-- League Selection (Custom Dropdown) -->
        <div class="mb-6 relative">
          <label class="block text-cyan-400 mb-3 text-sm sm:text-base font-semibold">1. Lig Seçimi</label>
          <div class="relative">
            <button type="button" id="leagueDisplay" class="w-full p-4 rounded-xl bg-gray-900/80 border border-cyan-500/30 flex items-center justify-between hover:border-cyan-500/50 transition-all duration-300">
              <div class="flex items-center gap-3">
                <div id="selectedLeagueLogo" class="w-6 h-6 flex items-center justify-center">
                  <!-- Logo buraya eklenecek -->
                </div>
                <span id="selectedLeagueText" class="text-gray-300">-- Ligi Seçiniz --</span>
              </div>
              <svg class="w-5 h-5 text-cyan-400 transform transition-transform duration-300" id="leagueChevron" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div id="leagueOptions" class="absolute z-50 w-full mt-2 hidden rounded-xl bg-gray-900 border border-cyan-500/30 shadow-2xl shadow-cyan-500/10 max-h-64 overflow-y-auto">
              <!-- Options JavaScript ile eklenecek -->
            </div>
            <input type="hidden" id="leagueSelect" value="">
          </div>
        </div>

        <!-- Match Selection (Custom Dropdown) -->
        <div class="mb-8 relative">
          <label class="block text-purple-400 mb-3 text-sm sm:text-base font-semibold">2. Maç Seçimi</label>
          <div class="relative">
            <button type="button" id="matchDisplay" class="w-full p-4 rounded-xl bg-gray-900/80 border border-purple-500/30 flex items-center justify-between opacity-50 cursor-not-allowed transition-all duration-300">
              <div id="selectedMatchText" class="text-gray-400">Önce ligi seçiniz</div>
              <svg class="w-5 h-5 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div id="matchOptions" class="absolute z-50 w-full mt-2 hidden rounded-xl bg-gray-900 border border-purple-500/30 shadow-2xl shadow-purple-500/10 max-h-64 overflow-y-auto">
              <!-- Options JavaScript ile eklenecek -->
            </div>
            <input type="hidden" id="matchSelect" value="">
          </div>
        </div>

        <!-- Submit Button -->
        <button id="showPrediction" disabled
          class="w-full py-4 sm:py-5 rounded-full bg-gradient-to-r from-orange-500 via-pink-500 to-purple-600 font-bold text-base sm:text-lg disabled:opacity-40 disabled:cursor-not-allowed hover:scale-105 transition-all duration-300 shadow-xl shadow-pink-500/30 animated-gradient">
          TAHMİNİ GÖSTER
        </button>
        
        <!-- Prediction Result Container -->
        <div id="predictionResult" class="mt-8"></div>
      </div>
    </div>
  </section>

    <!-- Footer -->
  <div id="footer"></div>
  
  <!-- JavaScript -->
  <script src="/js/logos.js"></script>
  <script src="/js/load-components.js"></script>
  <script src="/js/mobile-menu.js"></script>
 <script>

function renderLogo(src, className = "w-6 h-6") {
  if (!src) return "";
  return `
    <img 
      src="${src}" 
      class="${className} object-contain"
      loading="lazy"
      onerror="this.style.display='none'"
    />
  `;
}

/* -------------------------------------------------
   LOG YÜKLEME KONTROL
------------------------------------------------- */
console.log("League logos:", window.LEAGUE_LOGOS);
console.log("Team logos:", window.TEAM_LOGOS);

/* -------------------------------------------------
   TAHMİN VERİLERİ (DÜZELTİLMİŞ İSİMLER)
------------------------------------------------- */
const PREDICTION_DATA = {
  "Premier League": [
    "Tottenham vs Brentford",
    "Arsenal vs Chelsea",
    "Manchester United vs Liverpool",
    "Manchester City vs Everton"
  ],
  "La Liga": [
    "Barcelona vs Sevilla",
    "Real Madrid vs Villarreal",
    "Atletico Madrid vs Valencia",
    "Real Sociedad vs Athletic Bilbao"
  ],
  "Serie A": [
    "Inter vs Milan",
    "Juventus vs Roma",
    "Napoli vs Lazio",
    "Atalanta vs Fiorentina"
  ],
  "Bundesliga": [
    "Bayern Munich vs Borussia Dortmund",
    "RB Leipzig vs Bayer Leverkusen",
    "Wolfsburg vs Eintracht Frankfurt"
  ],
  "Ligue 1": [
    "PSG vs Marseille",
    "Lyon vs Monaco",
    "Lille vs Nice"
  ]
};

// Tahmin verileri
const PREDICTION_DETAILS = {
  "Tottenham vs Brentford": {
    main: { type: "SONUÇ", prediction: "Tottenham", confidence: 78, odds: 1.85 },
    subPredictions: [
      { type: "2.5 ÜST/ALT", prediction: "ÜST 2.5", confidence: 72, odds: 1.65 },
      { type: "KG/VAR/YOK", prediction: "EVET", confidence: 65, odds: 1.90 },
      { type: "İLK YARI SONUCU", prediction: "Tottenham", confidence: 68, odds: 2.10 },
      { type: "TOPLAM GOL", prediction: "3-4 GOL", confidence: 71, odds: 2.40 },
      { type: "ÇİFT ŞANSLI", prediction: "1X", confidence: 85, odds: 1.25 },
      { type: "HER İKİ TAKIM GOL", prediction: "EVET", confidence: 70, odds: 1.75 },
      { type: "İLK GOLÜ ATAN", prediction: "Tottenham", confidence: 62, odds: 2.50 },
      { type: "KÖŞE SAYISI", prediction: "ÜST 9.5", confidence: 67, odds: 1.95 },
      { type: "SARI KART", prediction: "ÜST 4.5", confidence: 73, odds: 1.80 },
      { type: "PENALTI", prediction: "VAR", confidence: 58, odds: 3.00 },
      { type: "SKOR TAHMİNİ", prediction: "2-1", confidence: 45, odds: 8.50 },
      { type: "İKİNCİ YARI KAZANANI", prediction: "Tottenham", confidence: 69, odds: 1.95 }
    ]
  },
  "Arsenal vs Chelsea": {
    main: { type: "SONUÇ", prediction: "Arsenal", confidence: 82, odds: 1.75 },
    subPredictions: [
      { type: "2.5 ÜST/ALT", prediction: "ALT 2.5", confidence: 68, odds: 1.85 },
      { type: "KG/VAR/YOK", prediction: "EVET", confidence: 60, odds: 2.05 },
      { type: "İLK YARI SONUCU", prediction: "Beraberlik", confidence: 55, odds: 2.30 },
      { type: "TOPLAM GOL", prediction: "2-3 GOL", confidence: 75, odds: 2.10 },
      { type: "ÇİFT ŞANSLI", prediction: "1X", confidence: 90, odds: 1.15 }
    ]
  },
  "Manchester United vs Liverpool": {
    main: { type: "SONUÇ", prediction: "Liverpool", confidence: 70, odds: 2.10 },
    subPredictions: [
      { type: "2.5 ÜST/ALT", prediction: "ÜST 2.5", confidence: 80, odds: 1.55 },
      { type: "KG/VAR/YOK", prediction: "EVET", confidence: 85, odds: 1.45 }
    ]
  }
  // Diğer maçlar için benzer şekilde eklenebilir
};

/* -------------------------------------------------
   DOM READY
------------------------------------------------- */
document.addEventListener("DOMContentLoaded", () => {
  const leagueDisplay = document.getElementById("leagueDisplay");
  const leagueOptions = document.getElementById("leagueOptions");
  const leagueHidden = document.getElementById("leagueSelect");
  const selectedLeagueLogo = document.getElementById("selectedLeagueLogo");
  const selectedLeagueText = document.getElementById("selectedLeagueText");
  const leagueChevron = document.getElementById("leagueChevron");

  const matchDisplay = document.getElementById("matchDisplay");
  const matchOptions = document.getElementById("matchOptions");
  const matchHidden = document.getElementById("matchSelect");
  const selectedMatchText = document.getElementById("selectedMatchText");

  const showPredictionBtn = document.getElementById("showPrediction");
  const predictionResult = document.getElementById("predictionResult");

  /* -------------------------------------------------
     LİG SEÇENEKLERİ
  ------------------------------------------------- */
  Object.keys(PREDICTION_DATA).forEach(league => {
    const option = document.createElement("button");
    option.type = "button";
    option.className = "w-full p-3 hover:bg-cyan-500/10 transition-colors duration-200 flex items-center gap-3 text-left first:rounded-t-xl last:rounded-b-xl border-b border-gray-800 last:border-b-0";
    option.innerHTML = `
      <div class="flex items-center gap-3">
        ${renderLogo(window.LEAGUE_LOGOS?.[league])}
        <span class="text-gray-300">${league}</span>
      </div>
    `;

    option.onclick = () => {
      leagueHidden.value = league;
      selectedLeagueText.textContent = league;
      selectedLeagueText.className = "text-white";
      selectedLeagueLogo.innerHTML = renderLogo(
        window.LEAGUE_LOGOS?.[league]
      );

      leagueOptions.classList.add("hidden");
      leagueChevron.classList.remove("rotate-180");
      leagueDisplay.classList.remove("border-cyan-500/50");
      leagueDisplay.classList.add("border-cyan-500/70");

      matchDisplay.classList.remove("opacity-50", "cursor-not-allowed");
      matchDisplay.classList.add("hover:border-purple-500/50");
      selectedMatchText.textContent = "-- Maç Seçiniz --";
      selectedMatchText.className = "text-gray-300";
      matchHidden.value = "";
      matchOptions.classList.add("hidden");
      matchOptions.innerHTML = "";
      showPredictionBtn.disabled = true;
      predictionResult.innerHTML = "";

      PREDICTION_DATA[league].forEach(match => {
        const [team1, team2] = match.split(" vs ");
        const team1Logo = window.TEAM_LOGOS?.[team1];
        const team2Logo = window.TEAM_LOGOS?.[team2];

        const matchOption = document.createElement("button");
        matchOption.type = "button";
        matchOption.className = "w-full p-3 hover:bg-purple-500/10 transition-colors duration-200 text-left first:rounded-t-xl last:rounded-b-xl border-b border-gray-800 last:border-b-0";
        matchOption.innerHTML = `
          <div class="flex items-center justify-between gap-4">
            <div class="flex items-center gap-2 flex-1">
              ${renderLogo(team1Logo, "w-5 h-5")}
              <span class="text-gray-300 truncate">${team1}</span>
            </div>
            <span class="text-xs text-purple-400 font-semibold px-2">VS</span>
            <div class="flex items-center gap-2 flex-1 justify-end">
              ${renderLogo(team2Logo, "w-5 h-5")}
              <span class="text-gray-300 truncate">${team2}</span>
            </div>
          </div>
        `;

        matchOption.onclick = () => {
          matchHidden.value = match;
          selectedMatchText.innerHTML = matchOption.innerHTML;
          selectedMatchText.className = "w-full";
          matchOptions.classList.add("hidden");
          matchDisplay.classList.remove("border-purple-500/50");
          matchDisplay.classList.add("border-purple-500/70");
          showPredictionBtn.disabled = false;
        };

        matchOptions.appendChild(matchOption);
      });
    };

    leagueOptions.appendChild(option);
  });

  /* -------------------------------------------------
     DROPDOWN KONTROLLERİ
  ------------------------------------------------- */
  leagueDisplay.onclick = e => {
    e.stopPropagation();
    leagueOptions.classList.toggle("hidden");
    leagueChevron.classList.toggle("rotate-180");
    leagueDisplay.classList.toggle("border-cyan-500/50");
    
    if (!leagueOptions.classList.contains("hidden")) {
      matchOptions.classList.add("hidden");
    }
  };

  matchDisplay.onclick = e => {
    e.stopPropagation();
    if (matchDisplay.classList.contains("cursor-not-allowed")) return;
    
    matchOptions.classList.toggle("hidden");
    const chevron = matchDisplay.querySelector("svg");
    if (chevron) chevron.classList.toggle("rotate-180");
    matchDisplay.classList.toggle("border-purple-500/50");
    
    if (!matchOptions.classList.contains("hidden")) {
      leagueOptions.classList.add("hidden");
      leagueChevron.classList.remove("rotate-180");
      leagueDisplay.classList.remove("border-cyan-500/50");
    }
  };

  document.onclick = () => {
    leagueOptions.classList.add("hidden");
    matchOptions.classList.add("hidden");
    leagueChevron.classList.remove("rotate-180");
    const matchChevron = matchDisplay.querySelector("svg");
    if (matchChevron) matchChevron.classList.remove("rotate-180");
    
    leagueDisplay.classList.remove("border-cyan-500/50");
    matchDisplay.classList.remove("border-purple-500/50");
  };

  /* -------------------------------------------------
     TAHMİN BUTONU - GÜNCELLENMİŞ
  ------------------------------------------------- */
  showPredictionBtn.onclick = () => {
    const match = matchHidden.value;
    if (!match) return;

    const [team1, team2] = match.split(" vs ");
    const league = leagueHidden.value;

    showPredictionBtn.disabled = true;
    showPredictionBtn.textContent = "Tahmin hazırlanıyor...";

    setTimeout(() => {
      // Tahmin verilerini al (varsayılan veri kullan)
      const predictionDetails = PREDICTION_DETAILS[match] || getDefaultPrediction(match, team1, team2);
      
      predictionResult.innerHTML = `
        <div class="rounded-3xl border border-cyan-500/30 overflow-hidden">
          <!-- Ana Tahmin Banner -->
          <div class="bg-gradient-to-r from-cyan-900/30 via-purple-900/30 to-pink-900/30 p-6 border-b border-cyan-500/20">
            <div class="flex items-center justify-between mb-4">
              <div class="flex items-center gap-3">
                ${renderLogo(window.LEAGUE_LOGOS?.[league], "w-8 h-8")}
                <h3 class="text-xl font-bold text-white">${league}</h3>
              </div>
              <div class="text-sm text-gray-400">
                <span class="text-cyan-400">AI Tahmin</span> • %${predictionDetails.main.confidence} Güven
              </div>
            </div>

            <div class="flex flex-col sm:flex-row justify-between items-center my-6 gap-6">
              <div class="text-center flex-1">
                ${renderLogo(window.TEAM_LOGOS?.[team1], "w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-3")}
                <p class="text-lg font-semibold text-white">${team1}</p>
              </div>
              <div class="flex flex-col items-center">
                <div class="text-3xl font-bold text-purple-400 px-4 mb-2">VS</div>
                <div class="text-xs text-gray-400">${new Date().toLocaleDateString('tr-TR')}</div>
              </div>
              <div class="text-center flex-1">
                ${renderLogo(window.TEAM_LOGOS?.[team2], "w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-3")}
                <p class="text-lg font-semibold text-white">${team2}</p>
              </div>
            </div>

            <!-- Ana Tahmin Kartı -->
            <div class="mt-6 p-5 rounded-xl bg-gradient-to-r from-green-900/30 to-emerald-900/30 border border-green-500/30">
              <div class="flex justify-between items-center mb-3">
                <span class="text-sm font-bold text-green-400 uppercase tracking-wider">
                  ${predictionDetails.main.type} TAHMİNİ
                </span>
                <span class="text-sm font-bold text-white bg-green-600/30 px-3 py-1 rounded-full">
                  Oran: ${predictionDetails.main.odds}
                </span>
              </div>
              <div class="text-center">
                <p class="text-2xl font-bold text-white mb-2">
                  ${predictionDetails.main.prediction}
                </p>
                <div class="flex items-center justify-center gap-4">
                  <div class="text-sm text-gray-300">
                    Güven: <span class="font-bold text-green-400">%${predictionDetails.main.confidence}</span>
                  </div>
                  <div class="w-24 h-2 bg-gray-700 rounded-full overflow-hidden">
                    <div class="h-full bg-gradient-to-r from-green-500 to-emerald-500" 
                         style="width: ${predictionDetails.main.confidence}%"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Alt Tahminler Grid -->
          <div class="p-6 bg-gray-900/50">
            <div class="flex items-center justify-between mb-6">
              <h4 class="text-lg font-bold text-white">Detaylı Tahminler</h4>
              <span class="text-sm text-gray-400">${predictionDetails.subPredictions.length} alt tahmin</span>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
              ${predictionDetails.subPredictions.map((pred, index) => `
                <div class="prediction-card bg-gray-800/30 border border-gray-700/50 rounded-xl p-4 hover:border-cyan-500/50 transition-all duration-300">
                  <div class="flex justify-between items-start mb-3">
                    <span class="text-xs font-bold text-cyan-400 px-2 py-1 bg-cyan-500/10 rounded">
                      ${pred.type}
                    </span>
                    <span class="text-sm font-bold text-white bg-purple-600/30 px-2 py-1 rounded">
                      ${pred.odds}
                    </span>
                  </div>
                  
                  <div class="text-center mb-4">
                    <p class="text-lg font-bold text-white mb-2">${pred.prediction}</p>
                    <div class="flex items-center justify-center gap-2">
                      <div class="text-xs text-gray-400">Güven:</div>
                      <div class="flex items-center gap-1">
                        <div class="w-16 h-2 bg-gray-700 rounded-full overflow-hidden">
                          <div class="h-full bg-gradient-to-r from-cyan-500 to-purple-500" 
                               style="width: ${pred.confidence}%"></div>
                        </div>
                        <span class="text-xs font-bold text-cyan-400">%${pred.confidence}</span>
                      </div>
                    </div>
                  </div>

                  <div class="flex justify-between items-center text-xs">
                    <span class="text-gray-500">#${index + 1}</span>
                    <div class="flex gap-1">
                      ${getConfidenceStars(pred.confidence)}
                    </div>
                  </div>
                </div>
              `).join('')}
            </div>

            <!-- Güven Aralığı ve İstatistikler -->
            <div class="mt-8 p-5 rounded-xl bg-gradient-to-br from-gray-800/50 to-gray-900/50 border border-gray-700/50">
              <h5 class="text-md font-bold text-white mb-4">Tahmin Analizi</h5>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="stat-box text-center p-3">
                  <div class="text-2xl font-bold text-cyan-400">%${calculateAverageConfidence(predictionDetails.subPredictions)}</div>
                  <div class="text-xs text-gray-400">Ortalama Güven</div>
                </div>
                <div class="stat-box text-center p-3">
                  <div class="text-2xl font-bold text-green-400">${getSuccessRate(predictionDetails.subPredictions)}</div>
                  <div class="text-xs text-gray-400">Başarı Oranı</div>
                </div>
                <div class="stat-box text-center p-3">
                  <div class="text-2xl font-bold text-purple-400">${predictionDetails.subPredictions.length}</div>
                  <div class="text-xs text-gray-400">Toplam Tahmin</div>
                </div>
              </div>
              <div class="mt-4 text-center">
                <span class="text-xs text-gray-400">AI modeli ${predictionDetails.subPredictions.length * 7} veri noktası analiz etti</span>
              </div>
            </div>

            <!-- Son Güncelleme -->
            <div class="mt-6 text-center">
              <div class="inline-flex items-center gap-2 text-xs text-gray-500">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                Son güncelleme: ${new Date().toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' })}
              </div>
            </div>
          </div>
        </div>
      `;

      showPredictionBtn.disabled = false;
      showPredictionBtn.textContent = "TAHMİNİ GÖSTER";
      predictionResult.scrollIntoView({ behavior: "smooth", block: "center" });
    }, 1200);
  };

  /* -------------------------------------------------
     YARDIMCI FONKSİYONLAR
  ------------------------------------------------- */
  function getDefaultPrediction(match, team1, team2) {
    const randomMain = Math.random() > 0.5 ? team1 : team2;
    const confidence = Math.floor(Math.random() * 30) + 60;
    
    const subTypes = [
      "2.5 ÜST/ALT", "KG/VAR/YOK", "İLK YARI SONUCU", "TOPLAM GOL",
      "ÇİFT ŞANSLI", "HER İKİ TAKIM GOL", "İLK GOLÜ ATAN", "KÖŞE SAYISI",
      "SARI KART", "PENALTI", "SKOR TAHMİNİ", "İKİNCİ YARI KAZANANI"
    ];
    
    const subPredictions = subTypes.map((type, index) => {
      const predictions = {
        "2.5 ÜST/ALT": ["ÜST 2.5", "ALT 2.5"],
        "KG/VAR/YOK": ["EVET", "HAYIR"],
        "İLK YARI SONUCU": [team1, "Beraberlik", team2],
        "TOPLAM GOL": ["0-1 GOL", "2-3 GOL", "3-4 GOL", "4+ GOL"],
        "ÇİFT ŞANSLI": ["1X", "12", "X2"],
        "HER İKİ TAKIM GOL": ["EVET", "HAYIR"],
        "İLK GOLÜ ATAN": [team1, team2],
        "KÖŞE SAYISI": ["ÜST 9.5", "ALT 9.5"],
        "SARI KART": ["ÜST 4.5", "ALT 4.5"],
        "PENALTI": ["VAR", "YOK"],
        "SKOR TAHMİNİ": ["1-0", "2-0", "2-1", "1-1", "0-0", "3-1"],
        "İKİNCİ YARI KAZANANI": [team1, "Beraberlik", team2]
      };
      
      const predList = predictions[type] || ["EVET"];
      const prediction = predList[Math.floor(Math.random() * predList.length)];
      const conf = Math.floor(Math.random() * 25) + 55;
      const odds = (1.5 + Math.random() * 2).toFixed(2);
      
      return { type, prediction, confidence: conf, odds };
    });
    
    return {
      main: { type: "SONUÇ", prediction: randomMain, confidence, odds: (1.7 + Math.random() * 1.3).toFixed(2) },
      subPredictions
    };
  }
  
  function getConfidenceStars(confidence) {
    const stars = Math.floor(confidence / 20);
    let starsHTML = '';
    for (let i = 0; i < 5; i++) {
      if (i < stars) {
        starsHTML += `<svg class="w-3 h-3 text-yellow-500" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>`;
      } else {
        starsHTML += `<svg class="w-3 h-3 text-gray-600" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>`;
      }
    }
    return starsHTML;
  }
  
  function calculateAverageConfidence(predictions) {
    const total = predictions.reduce((sum, pred) => sum + pred.confidence, 0);
    return Math.round(total / predictions.length);
  }
  
  function getSuccessRate(predictions) {
    const highConfidence = predictions.filter(p => p.confidence >= 70).length;
    return `${Math.round((highConfidence / predictions.length) * 100)}%`;
  }
});
</script>

<style>
.animated-gradient {
  background-size: 200% 200%;
  animation: gradient 3s ease infinite;
}

@keyframes gradient {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.prediction-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 25px -5px rgba(6, 182, 212, 0.1);
}

.stat-box {
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 0.75rem;
  transition: all 0.3s ease;
}

.stat-box:hover {
  border-color: rgba(6, 182, 212, 0.3);
  background: rgba(6, 182, 212, 0.05);
}

/* Custom scrollbar for prediction cards */
#predictionResult::-webkit-scrollbar {
  width: 8px;
}

#predictionResult::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

#predictionResult::-webkit-scrollbar-thumb {
  background: rgba(6, 182, 212, 0.5);
  border-radius: 4px;
}

#predictionResult::-webkit-scrollbar-thumb:hover {
  background: rgba(6, 182, 212, 0.7);
}
</style>

</body>
</html>